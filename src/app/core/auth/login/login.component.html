<section class="border border-gray-200 shadow-xs rounded bg-grey-200 md:w-1/2 mx-auto p-4">
  <div class="title">
    <h2 class="mb-3 text-red-500 font-medium text-3xl text-center">Login Now</h2>
  </div>
  <form [formGroup]="loginForm" (ngSubmit)="submitLoginForm()">

    <!-- Email Input -->
    <div class="mb-3">
      <label for="email" class="main-label">Email</label>
      <input formControlName="email" type="email" id="email" class="main-input" />

      @let emailControl = loginForm.get('email');
      @if(emailControl?.errors && emailControl?.touched){
      <div class="flex p-4 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle"
        role="alert">
        <span class="sr-only">Danger</span>
        <div>
          <ul class="list-disc list-outside space-y-1 ps-2.5">
            @if(emailControl?.getError('required')){
            <li>Email Input is required</li>
            }@else if(emailControl?.getError('email')){
            <li>Invaild Email</li>
            }
          </ul>
        </div>
      </div>
      }
    </div>

    <!-- password Input -->
    <div class="mb-3 relative">
      @let passwordControl = loginForm.get('password');
      <label for="password" class="main-label">Password</label>
      <input formControlName="password" [type]="flag=== true? 'password': 'text'" id="password" class="main-input" />
      <span (click)="togglePasswordType()" class="absolute top-0 end-2 translate-y-[160%] cursor-pointer">
        <i [class]="{
          'fa-eye':flag === true,
          'fa-eye-slash' :flag === false
        }" class="fas fa-eye"></i>
      </span>


      @if(passwordControl?.errors && passwordControl?.touched){
      <div class="flex p-4 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle"
        role="alert">
        <span class="sr-only">Danger</span>
        <div>
          <ul class="list-disc list-outside space-y-1 ps-2.5">
            @if(passwordControl?.getError('required')){
            <li>Password Input is required</li>
            }@else if(passwordControl?.getError('pattern')){
            <li>Inclusion of at least one special character, e.g., ! @ # ?</li>
            }
          </ul>
        </div>
      </div>
      }
    </div>



    <div class="flex flex-wrap justify-end mb-3">
      <button type="submit" class="btn-main px-3">Login
        @if(isLoading()){
        <span>
          <i class="fas fa-spinner animate-spin"></i>
        </span>
        }
      </button>
    </div>
    @if(errorMessage()){
    <div class="flex p-4 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle"
      role="alert">
      <span class="sr-only">Danger</span>
      <p>{{errorMessage()}}</p>
    </div>
    }


  </form>
</section>
